


<div class="container-fluid">    
        
    <div id="loginbox" class="mainbox col-md-12 col-sm-12"> 
        

    <style type="text/css">
        @import url(https://fonts.googleapis.com/css?family=Roboto);
        @import url(https://fonts.googleapis.com/css?family=Montserrat);
        .panel-heading {
            background-image: none;
            background-color: #ECECEC;
            color: #5bc0de;
            font-family: 'Roboto', sans-serif;
        }

          .panel-title{
            font-size: 30px;   
          }
          .pie_form{
            background-image: none;
            background-color: #ECECEC;
            color: white;   
          }
          .line1
          {
            display: inline-block;
            width: 30% !important;
          }
    </style>




<div class="container-fluid navbar navbar-default" style = "margin-bottom:0px!importan">
  <div class="row">
  <%= simple_form_for([@patient, @clinic_history]) do |f| %>








<div class="container" style="margin-top:10px; margin-bottom:-8px;">
        <div class="centered title"> <h1 style=" font-size:25px;"> <span style = "margin-right:10px;"class="glyphicon glyphicon-user"></span>  1 Información General</h1></div>
     </div>
     <hr class="featurette-divider"></hr>
         
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
          <div class="col-md-3">
              <label>Condición:</label> 
              <%= f.input :condition,
              prompt:       'Campo Obligatorio',
              collection: @clinic_history.select_condition.sort,
              error: false, label: false, 
              input_html:   {class: 'form-control', maxlengt: "4"} %>
          </div>
          <div class="col-md-3">
              <label>Aeropuerto:</label> 
              <%= f.collection_select :airport_id, Airport.all, :id, :name, {prompt: "Campo Obligatorio"}, {class: "form-control"} %>
          </div>

          <div class="col-md-3">
              <label>Cove:</label> 
              <%= f.input :cove,  :input_html => { class: 'form-control' } ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>
          </div>
          <div class="col-md-3">
              <label>Movil/Servicio:</label> 
              <%= f.input :mobiel_service,  :input_html => { class: 'form-control' } ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>
          </div>
        </div>

        <br/>
        <br/>        <br/>
        <br/>
        <div class="col-md-12">
          <div class="col-md-3">
              <label>Tipo Servicio:</label> 
                    <%= f.input :type_service,
                    prompt:       'Campo Obligatorio',
                    collection: @clinic_history.select_type_service.sort,
                    error: false, label: false, 
                    input_html:   {class: 'form-control'}, 'aria-required' => 'true' %>
          </div>
          <div class="col-md-3">
              <label>Origen:</label> 
                  <%= f.collection_select :origin, City.all, :name, :name, {prompt: "Campo Obligatorio"}, {class: "form-control"} %>

          </div>

          <div class="col-md-3">
              <label>Destino:</label> 
                  <%= f.collection_select :destination, City.all, :name, :name, {prompt: "Campo Obligatorio"}, {class: "form-control"} %>


          </div>

          <div class="col-md-3">
              <label>Empresa:</label> 
              <%= f.input :company,  :input_html => { :class => 'form-control', id: "company" } ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>
          </div>
          
        </div>

        <br/>
        <br/>        <br/>
        <br/>

        <div class="col-md-12">



          <div class="col-md-4">
              <label>Nombre Acompañante:</label> 
                <%= f.input :accompanist_name,  :input_html => { :class => 'form-control', id: "accompanist_name" } ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>
          </div>
          <div class="col-md-4">
              <label>Selecciona el parentesco:</label> 

                <%= f.input :relationship,  :input_html => { :class => 'form-control', id: "accompanist_name" } ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>

          </div>
<div class="col-md-4">
              <label>Telefono Acompañante:</label> 
                <%= f.input :phone,  :input_html => { :class => 'form-control' } ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>

          </div>
          
         
        </div>
                <br/>
        <br/>   








                <br/>
        <br/>   
        <div class="col-md-12">



                    <div class="col-md-4">
                        <label>Arl:</label> 
                        <%= f.collection_select :arl_id, Arl.all, :id, :name, {prompt: "Selecciones una Arl"}, {class: "form-control arl"} %>
                    </div>



                  <div class="col-md-4">

              <label for="chkPassport" style="margin-top:30px;">
                  <input type="checkbox" id="chkPassport" />
                 La Arl no esta registrada?
              </label>

                  </div>

              <div id="dvPassport" style="display: none">

                  <%= f.simple_fields_for :arl do |builder| %>
              <%#= builder.label :account_type %>

                  <div class="col-md-4">
                    <label class="label">Nueva Arl</label>
                    <div class="form-group">
                      <%= builder.text_field :name, class: 'form-control' %>
                    </div>
                  </div>



              <%#= builder.label :account_number %>
              <% end %>


              </div>

         </div>

        <br/>
        <br/>        <br/>
        <br/>
 

        <div class="col-md-12">
          

              <div class="col-md-4">
                  <label>Eps:</label> 
                  <%= f.collection_select :eps_id, Eps.all, :id, :name, {prompt: "Selecciones una Eps"}, {class: "form-control eps"} %>
              </div>




                  <div class="col-md-4">

              <label for="chkPassport2">
                  <input type="checkbox" id="chkPassport2"  style="margin-top:30px;"/>
                 La Eps no esta registrada?
              </label>

                  </div>

              <div id="dvPassport2" style="display: none">

                  <%= f.simple_fields_for :eps do |builder| %>
              <%#= builder.label :account_type %>

                  <div class="col-md-4">
                    <label class="label">Nueva Eps</label>
                    <div class="form-group">
                      <%= builder.text_field :name, class: 'form-control' %>
                    </div>
                  </div>



              <%#= builder.label :account_number %>
              <% end %>


              </div>







        </div>


        <br/>
        <br/>        <br/>
        <br/>


         <div class="row">
                  <div class="col-md-12">

            <div class="col-md-6">
              <label>Motivo de consulta:</label> 
                <%= f.text_area :reason_for_consultation, :class => 'form-control', id: "reason_for_consultation" ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>
          </div>
          <div class="col-md-6">
              <label>Enfermedad Actual:</label> 
                <%= f.text_area :current_illness, :class => 'form-control', id: "current_illness" ,  :required => true , placeholder: 'Campo Obligatorio', label: false  %>
          </div>
          </div>

         </div>
    </div>
</div>



<!-- Codigo que Duplica la información del Paciente -->
<%= f.hidden_field :first_name, :value => @patient.first_name %>
<%= f.hidden_field :second_name, :value => @patient.second_name %>
<%= f.hidden_field :first_surname, :value => @patient.first_surname %>
<%= f.hidden_field :second_surname, :value => @patient.second_surname %>
<%= f.hidden_field :email, :value => @patient.email %>
<%= f.hidden_field :type_document, :value => @patient.type_document %>
<%= f.hidden_field :document, :value => @patient.document %>
<%= f.hidden_field :birthdate, :value => @patient.birthdate %>
<%= f.hidden_field :gender, :value => @patient.gender %>
<%= f.hidden_field :profession, :value => @patient.profession %>
<%= f.hidden_field :blood_type, :value => @patient.blood_type %>
<%= f.hidden_field :nacionality, :value => @patient.nacionality %>
<%= f.hidden_field :address, :value => @patient.address %>
<%= f.hidden_field :user_id, :value => current_user.id %>
<%= f.hidden_field :country_code, :value => @patient.city.country_code %>












<br/>
<br/>



         <div class="well pie_form">

                <div class="form-actions"  style = "text-align:center!important"> 



                        <%= f.submit "Siguiente", :class => 'btn btn btn-info  custom' %>

                </div>
              </div>


  </div>
</div>




            <% end %>




</div>





<script type="text/javascript">


// Seleccionar una arl sin registrar una nueva
$('.arl').change(function(e) {
  if ($(this).prop("selectedIndex") != 0)
    {
        $('#chkPassport').prop('disabled', true);  
    }
    else
    {
        $('#chkPassport').prop('disabled', false);
    }
});



// Seleccionar una eps sin registrar una nueva
$('.eps').change(function(e) {
  if ($(this).prop("selectedIndex") != 0)
    {
        $('#chkPassport2').prop('disabled', true);  
    }
    else
    {
        $('#chkPassport2').prop('disabled', false);
    }
});

// Mostrar los Checkbox para agregar
    $(function () {
        $("#chkPassport").click(function () {
            if ($(this).is(":checked")) {
                $(".arl").prop('disabled', true);
                $("#dvPassport").show();
            } else {
                $(".arl").prop('disabled', false);
                $("#dvPassport").hide();
            }
        });
    });

    $(function () {
        $("#chkPassport2").click(function () {
            if ($(this).is(":checked")) {
                $(".eps").prop('disabled', true);              
                $("#dvPassport2").show();
            } else {
                $(".eps").prop('disabled', false);                            
                $("#dvPassport2").hide();
            }
        });
    });

</script>
