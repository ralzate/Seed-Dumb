




<div class="container-fluid">    
        
    <div id="loginbox" class="mainbox col-md-12 col-sm-12"> 
        

        

      <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Roboto);
      @import url(https://fonts.googleapis.com/css?family=Montserrat);
      .panel-heading {
          background-image: none;
          background-color: #ECECEC;
          color: #5bc0de;
          font-family: 'Roboto', sans-serif;
      }

        .panel-title{
          font-size: 30px;   
        }
        .pie_form{
          background-image: none;
          background-color: #ECECEC;
          color: white;   
        }
        .line1
        {
          display: inline-block;
          width: 30% !important;
        }

      </style>













    <div class="container-fluid navbar navbar-default" style = "margin-bottom:0px!importan">
      <div class="row">
            <%= simple_form_for(@patient, :html => { :class => 'contact-form', :id => 'contact-form' }) do |f| %>

<div class="container" style="margin-top:10px; margin-bottom:-8px;">
        <div class="centered title"> <h1 style=" font-size:25px;"> <span style = "margin-right:10px;"class="glyphicon glyphicon-user"></span> Datos Paciente</h1></div>
     </div>
     <hr class="featurette-divider"></hr>


                <div class="row">
                  <div class="col-md-3">
                    <label class="label">Primer Nombre</label>
                    <div class="form-group">

                      <%= f.text_field :first_name, class: "form-control ", required: true, placeholder: 'Primer Nombre' %>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label class="label">Segundo Nombre</label>
                    <div class="form-group">
                      <%= f.text_field :second_name, class: "form-control ", required: true, placeholder: 'Segundo Nombre' %>
                    </div>
                  </div>


                  <div class="col-md-3">
                    <label class="label">Primer Apellido</label>
                    <div class="form-group">

                      <%= f.text_field :first_surname, class: "form-control ", required: true, placeholder: 'Primer Apellido' %>
                    </div>
                  </div>
                  <div class="col-md-3">
                    <label class="label">Segundo Apellido</label>
                    <div class="form-group">
                      <%= f.text_field :second_surname, class: "form-control ", required: true, placeholder: 'Segundo Apellido' %>
                    </div>
                  </div>

               </div>

                <div class="row">

                  <div class="col-md-4">
                    <label class="label">Email</label>
                    <div class="form-group">
                      <%= f.text_field :email, class: 'form-control', required: true, placeholder: 'Email' %>
                    </div>
                  </div>
  
     
                  <div class="col-md-4">
                    <label class="label">Tipo Documento</label>
                    <div class="form-group">
                      <%= f.input :type_document,
                              prompt:       'Seleccionar un Documento',
                              collection: @patient.select_document.sort,
                              error: false, label: false, 
                              input_html:   {class: 'form-control '},
                              required: true, :selected => '1'   %>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <label class="label">Documento</label>
                    <div class="form-group">
                        <%= f.text_field :document, class: "form-control ", required: true, placeholder: 'Documento',  id: 'document'  %>
                    </div>
                  </div>  



                  <div class="col-md-4">
                    <label class="label">Genero</label>
                    <div class="form-group">
                      <%= f.input :gender,
                              prompt:       'Seleccionar un Genero',
                              collection: @patient.select_genre.sort,
                              error: false, label: false, 
                              input_html:   {class: 'form-control '},required: true  %>

                    </div>
                  </div>
              

                <div class="col-md-4">
                  <label class="label">Fecha de Nacimiento</label>
                    <div class="form-group">
                      <%= f.date_select :birthdate,{
                        :start_year => Time.now.year,
                        :end_year => 1900,
                        :use_month_names => ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre','Diciembre'],
                        :use_short_month => true,
                        :order => [:day, :month, :year],
                        :prompt => {:month => 'Mes', :day => 'Dia', :year => 'Año'}},
                        {:class => 'year form-control line1',
                        :id => 'user_birthday'}
                      %>                             
                    </div>
                </div>




                  <div class="col-md-4">
                    <label class="label">Tipo Sanguineo</label>
                    <div class="form-group">
                      <%= f.input :blood_type,
                          prompt:       'Seleccionar un Tipo de Sangre',
                          collection: @patient.select_blood.sort,
                          error: false, label: false, 
                          input_html:   {class: 'form-control fontf'} %>
                    </div>
                  </div>


                </div>

                <div class="row">
                  

                  <div class="col-md-4">
                    <label class="label">Profesion</label>
                    <div class="form-group">
     

                        <%= f.text_field :profession, class: "form-control ", required: true, placeholder: 'profession',  id: 'document'  %>



                    </div>
                  </div>

                  <div class="col-md-4">
                    <label class="label">Direccion</label>
                    <div class="form-group">
                      <%= f.text_field :address, class: 'form-control fontf', required: true, placeholder: 'Dirección' %>
                    </div>
                  </div>

                                
                <div class="col-md-4">
                  <div class="form-group">
                  <label class="label">Nacionalidad</label>

                        <%= f.country_select :nacionality, {object: f.object, prompt: 'Campo Obligatorio'}, class: 'form-control' %>


                      <%= f.hidden_field :user_id, :value => current_user.id %>
                  </div>
                </div>

              </div>





              <div class="row">

                <div class="col-md-4">
                  <label class="label">Ciudad</label>
                  <div class="form-group">
                    <%= f.collection_select :city_id, City.all, :id, :name, {prompt: "Campo Obligatorio"}, {class: "form-control city"}  %>
                  </div>
                </div>




        <div class="col-md-4">

    <label for="chkPassport">
        <input type="checkbox" id="chkPassport"  style="margin-top:30px;" />
       La Ciudad no esta registrada?
    </label>

        </div>

    <div id="dvPassport" style="display: none">

        <%= f.simple_fields_for :city do |builder| %>
    <%#= builder.label :account_type %>

        <div class="col-md-4">
          <label class="label">Nueva Ciudad</label>
          <div class="form-group">
            <%= builder.text_field :name, class: 'form-control' %>
          </div>
        </div>



    <%#= builder.label :account_number %>
    <% end %>


    </div>





              </div>





               <div class="well pie_form">
                <div class="form-actions"  style = "text-align:center!important"> 
                    
                        <%= link_to "Volver al inicio", root_path, :class=>"btn btn-info color_blanco mrg" %>
                        <button type="reset" class="btn btn btn-info custom" style = "margin-right:20px;">Borrar</button>
                        <%= f.submit "Guardar", :class => 'btn btn btn-info custom ' %>
                    
                </div>
              </div>
            <% end %>


        </div>

      </div>

       
       

    </div>
  </div>
</div>



   






<script type="text/javascript">


// Seleccionar una ciudad sin registrar una nueva
$('.city').change(function(e) {
  if ($(this).prop("selectedIndex") != 0)
    {
        $('#chkPassport').prop('disabled', true);  
    }
    else
    {
        $('#chkPassport').prop('disabled', false);
    }
});

// Mostrar el Checkbox para agregar


    $(function () {
        $("#chkPassport").click(function () {
            if ($(this).is(":checked")) {
                $(".city").prop('disabled', true);              
                $("#dvPassport").show();
            } else {
                $(".city").prop('disabled', false);                            
                $("#dvPassport").hide();
            }
        });
    });
</script>